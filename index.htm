<!DOCTYPE html>
<html>
    <head>
        <title>Arduino Ajax Dial</title>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
		<script>
		$(document).ready(function(){
			GetArduinoInputs();
		});
		function GetArduinoInputs(){
			$.ajax({
				type: "GET",
				url: "ajax_inputs",
				dataType: "xml",
				success: function(xml){
					$(xml).find('inputs').each(function(){
						$('#input1').text($(this).find('button1').text());
						$('#input2').text($(this).find('button2').text());
						$('#input3').text($(this).find('analog1').text());
						$('#liquorStatus').text($(this).find('liquorStatus').text());
					});
				}
			});
			setTimeout(GetArduinoInputs, 10000);
		};
		</script>
        // <script>
		// function GetArduinoInputs()
		// {
			// nocache = "&nocache=" + Math.random() * 1000000;
			// var request = new XMLHttpRequest();
			// request.onreadystatechange = function()
			// {
				// if (this.readyState == 4) {
					// if (this.status == 200) {
						// if (this.responseXML != null) {
							//extract XML data from XML file (containing switch states and analog value)
							// document.getElementById("input1").innerHTML =
								// this.responseXML.getElementsByTagName('button1')[0].childNodes[0].nodeValue;
							// document.getElementById("input2").innerHTML =
								// this.responseXML.getElementsByTagName('button2')[0].childNodes[0].nodeValue;
							// document.getElementById("input3").innerHTML =
								// this.responseXML.getElementsByTagName('analog1')[0].childNodes[0].nodeValue;
						// }
					// }
				// }
			// }
			// request.open("GET", "ajax_inputs" + nocache, true);
			// request.send(null);
			// setTimeout('GetArduinoInputs()', 200);
			
		// }
	// </script>
    </head>
    <!-- <body onload="GetArduinoInputs()"> -->
	<body>
		<div>Testing<br />
		<h1>Arduino Inputs from SD Card Web Page using Ajax with XML</h1>
        <p>Button 1 (pin 7): <span id="input1">...</span></p>
        <p>Button 2 (pin 8): <span id="input2">...</span></p>
        <p>Analog (A2): <span id="input3">...</span></p>
		</div>
		<center>
		<div>
		<H1>Brew Automation</H1>
		<div id="version">Veresion 1.0.0</div>
		Created By: Nick Jellings, Cale Bultman, Chris Wilson
			  <hr />
			  
		<div>
			<a href="">Turn On Pump</a>
			<a href="">Turn Off Pump</a><br />
			<strong>Pump is set to: </strong> //pump status
		</div>
		<div>
			<a href="">Turn On Liquor</a>
			<a href="">Turn Off Liquor</a>
			<br />
			Liquor is: <span id="liquorStatus"></span>
			<br />
			Liquor set to: 
			<strong>// liquor OnOffSet </strong>
			<br/>
			The liquor temperature is:
			//Liquor Temp
			<br>
			The liquor is set to:
			//liquorSetTemp
			<form name='input' action='/' method='get'>
			    <input type='hidden' name='rims' value='" + rimsStatus + "'>
				<input type='hidden' name='pump' value='" + pumpStatus +"'>
				<input type='hidden' name='liquor' value='" + liquorStatus +"'>          
				<input type='hidden' name='boil' value='" + boilStatus +"'>                    
				Set Liquor Temp:
				<input type='text' name='liquorTemp'>
				<input type='submit' value='Submit'>
			</form>
		</div>
		<div>
			<a href=""> Turn On RIMS</a>
			<a href="">Turn Off RIMS</a>
			<br />
			<strong>RIMS is: 
			//RIMS Status
			</strong>
			<br />
			RIMS set to: 
			<strong>
				///RIMS On Off Set
				
			</strong>
			<br />
			The RIMS temperature is:
			//RIMS Temperature
			
			<br />
			The RIMS is set to:
			//RIMS SetTemp        
			<form name='input' action='/' method='get'>
				<input type='hidden' name='rims' value='" + rimsStatus + "'>
				<input type='hidden' name='pump' value='" + pumpStatus +"'>
				<input type='hidden' name='liquor' value='" + liquorStatus +"'>          
				<input type='hidden' name='boil' value='" + boilStatus +"'>                    
				Set RIMS Temp:
				<input type='text' name='rimsTemp'>
				<input type='submit' value='Submit'>
			</form>
		</div>
		
		<div>         
			<a href="">Turn On Boil</a>
			<a href="">Turn Off Boil</a>
			<br />
			Boil is: 
			<strong>
			//Boil OnOffStatus
			</strong>
			<br />
			Boil set to: 
			<strong>
			</strong>
			//boil status (get onoffset)
		    </strong>
			<br />
			The boil temperature is:
			//(sensorTemps[boilSensor]);
			<br />
			The boil is set to:
			  
			(boilSet);
			<form name='input' action='/' method='get'>
				<input type='hidden' name='rims' value='" + rimsStatus + "'>
				<input type='hidden' name='pump' value='" + pumpStatus +"'>
				<input type='hidden' name='liquor' value='" + liquorStatus +"'>          
				<input type='hidden' name='boil' value='" + boilStatus +"'>                    
				Set Boil Temp:
				<input type='text' name='boilTemp'>
				<input type='submit' value='Submit'>
			</form>
		</div>
		</center>
	</BODY>
</html>
